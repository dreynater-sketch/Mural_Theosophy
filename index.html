<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Murals of Olcott - Panoramic View</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 50%, #9b59b6 100%);
            min-height: 100vh;
            color: white;
            line-height: 1.6;
        }

        .container {
            max-width: 100vw;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .intro {
            font-size: 1.1rem;
            opacity: 0.95;
            margin-bottom: 15px;
            font-style: italic;
        }

        .artist-quote {
            font-size: 1rem;
            opacity: 0.9;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 15px;
        }

        .panorama-container {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 20px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .panorama-viewer {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            border-radius: 15px;
            background: #000;
            cursor: grab;
        }

        .panorama-viewer:active {
            cursor: grabbing;
        }

        .panorama-image {
            height: 100%;
            width: auto;
            min-width: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
            pointer-events: none;
        }

        .instructions {
            text-align: center;
            margin: 15px 0 10px 0;
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .direction-labels {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            padding: 0 20px;
            position: relative;
        }

        .direction-label {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 25px;
            padding: 8px 16px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .direction-label:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .direction-label.active {
            background: rgba(52,152,219,0.6);
            border-color: rgba(52,152,219,0.8);
        }

        .wall-info {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .wall-info h3 {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: #ecf0f1;
        }

        .wall-info p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .explore-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 15px auto;
            display: block;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .explore-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .panorama-viewer {
                height: 300px;
            }
            
            .direction-labels {
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
            }
            
            .direction-label {
                font-size: 0.9rem;
                padding: 6px 12px;
            }
            
            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>The Murals of Olcott</h1>
        </div>

        <div class="panorama-container">
            <p class="instructions">
                Drag the panoramic view to explore the four walls, or click the direction buttons below
            </p>
            
            <div class="panorama-viewer" id="panoramaViewer">
                <img src="https://dreynater-sketch.github.io/Mural_Theosophy/Mural_full.jpg" 
                     alt="Complete Panoramic View of Olcott Murals" 
                     class="panorama-image" 
                     id="panoramaImage">
            </div>
            
            <div class="direction-labels">
                <div class="direction-label" onclick="goToDirection('north')" id="northBtn">
                    NORTH
                </div>
                <div class="direction-label" onclick="goToDirection('east')" id="eastBtn">
                    EAST
                </div>
                <div class="direction-label" onclick="goToDirection('south')" id="southBtn">
                    SOUTH
                </div>
                <div class="direction-label active" onclick="goToDirection('west')" id="westBtn">
                    WEST
                </div>
            </div>
        </div>

        <div class="wall-info" id="wallInfo">
            <h3 id="wallTitle">West Wall - The Central Sun</h3>
            <p id="wallDescription">You are viewing the West Wall, featuring the central sun from which all life is nourished. The colors over the sun represent the seven rays, and the figures above embody the cosmic principles of creator and destroyer.</p>
            <button class="explore-btn" onclick="exploreCurrentWall()">Explore This Wall in Detail</button>
        </div>
    </div>

    <script>
        let currentDirection = 'west';
        let panoramaImage = document.getElementById('panoramaImage');
        let panoramaViewer = document.getElementById('panoramaViewer');
        let isDragging = false;
        let startX = 0;
        let currentX = 0;
        let imagePosition = 0;

        // Wall information for each direction
        const wallInfo = {
            west: {
                title: "West Wall - The Central Sun",
                description: "You are viewing the West Wall, featuring the central sun from which all life is nourished. The colors over the sun represent the seven rays, and the figures above embody the cosmic principles of creator and destroyer."
            },
            north: {
                title: "North Wall - Evolution of Form", 
                description: "You are viewing the North Wall, displaying elephantine figures symbolic of evolution of form. The leaf-forms represent chlorophyll's role in drawing life energy from the sun."
            },
            east: {
                title: "East Wall - The Symbol of the Sevens",
                description: "You are viewing the East Wall, showing the interweaving of matter, mind and spirit. Each of the three figures completes its cycle, representing the eternal return to the appointed place."
            },
            south: {
                title: "South Wall - Ancient Symbols & Religious Evolution",
                description: "You are viewing the South Wall, featuring ancient symbols from the swastika to the cross, representing the evolution of religious consciousness through the ages."
            }
        };

        // Direction positions (percentage of image width for seamless 360Â° rotation)
        const directionPositions = {
            west: 0,     // Start position - sun is here
            north: -25,  // 1/4 through the panorama
            east: -50,   // Halfway through
            south: -75   // 3/4 through
        };

        function goToDirection(direction) {
            currentDirection = direction;
            
            // Update active button
            document.querySelectorAll('.direction-label').forEach(btn => btn.classList.remove('active'));
            document.getElementById(direction + 'Btn').classList.add('active');
            
            // Move panorama to show that direction
            imagePosition = directionPositions[direction];
            panoramaImage.style.transform = `translateX(${imagePosition}%)`;
            
            // Update wall information
            updateWallInfo(direction);
        }

        function updateWallInfo(direction) {
            const info = wallInfo[direction];
            document.getElementById('wallTitle').textContent = info.title;
            document.getElementById('wallDescription').textContent = info.description;
        }

        function exploreCurrentWall() {
            // This would link to detailed wall content
            alert(`Exploring ${wallInfo[currentDirection].title} in detail...\n\nThis would open the detailed view with images and full descriptions.`);
        }

        // Mouse/touch drag functionality
        panoramaViewer.addEventListener('mousedown', startDrag);
        panoramaViewer.addEventListener('touchstart', startDrag);
        document.addEventListener('mousemove', drag);
        document.addEventListener('touchmove', drag);
        document.addEventListener('mouseup', endDrag);
        document.addEventListener('touchend', endDrag);

        function startDrag(e) {
            isDragging = true;
            startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
            currentX = imagePosition;
            panoramaViewer.style.cursor = 'grabbing';
        }

        function drag(e) {
            if (!isDragging) return;
            e.preventDefault();
            
            const clientX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
            const deltaX = (clientX - startX) / panoramaViewer.offsetWidth * 100;
            
            // Allow continuous scrolling without limits
            imagePosition = currentX + deltaX;
            
            // Wrap around when reaching edges (seamless 360Â° rotation)
            if (imagePosition > 0) {
                imagePosition = -100 + (imagePosition % 100);
            } else if (imagePosition < -100) {
                imagePosition = imagePosition % 100;
            }
            
            panoramaImage.style.transform = `translateX(${imagePosition}%)`;
            
            // Update direction based on position
            updateDirectionFromPosition();
        }

        function endDrag() {
            isDragging = false;
            panoramaViewer.style.cursor = 'grab';
        }

        function updateDirectionFromPosition() {
            // Normalize position to 0-100 range for direction detection
            let normalizedPosition = imagePosition;
            while (normalizedPosition < -100) normalizedPosition += 100;
            while (normalizedPosition > 0) normalizedPosition -= 100;
            
            // Determine which direction we're closest to
            let closestDirection = 'west';
            let minDistance = Math.abs(normalizedPosition - directionPositions.west);
            
            for (const [direction, position] of Object.entries(directionPositions)) {
                const distance = Math.abs(normalizedPosition - position);
                if (distance < minDistance) {
                    minDistance = distance;
                    closestDirection = direction;
                }
            }
            
            if (closestDirection !== currentDirection) {
                currentDirection = closestDirection;
                document.querySelectorAll('.direction-label').forEach(btn => btn.classList.remove('active'));
                document.getElementById(closestDirection + 'Btn').classList.add('active');
                updateWallInfo(closestDirection);
            }
        }

        // Prevent image dragging
        panoramaImage.addEventListener('dragstart', e => e.preventDefault());
    </script>
</body>
</html>
